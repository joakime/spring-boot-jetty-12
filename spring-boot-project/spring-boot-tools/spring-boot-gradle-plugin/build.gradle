plugins {
	id 'java-gradle-plugin'
	id 'org.springframework.boot.optional-dependencies'
	id 'maven-publish'
	id 'org.springframework.boot.conventions'
}

description = 'Spring Boot Gradle Plugin'

dependencies {
	implementation enforcedPlatform(project(':spring-boot-project:spring-boot-parent'))
	implementation project(':spring-boot-project:spring-boot-tools:spring-boot-loader-tools')
	implementation 'io.spring.gradle:dependency-management-plugin'
	implementation 'org.apache.commons:commons-compress'
	implementation 'org.springframework:spring-core'

	optional enforcedPlatform(project(':spring-boot-project:spring-boot-parent'))
	optional 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50'

	testImplementation 'org.junit.jupiter:junit-jupiter'
	testImplementation 'org.assertj:assertj-core'
	testImplementation 'org.mockito:mockito-core'
}

jar {
	manifest {
		attributes 'Implementation-Version': (version ? version : 'unknown')
	}
}

gradlePlugin {
	plugins {
		springBootPlugin {
			id = 'org.springframework.boot'
			implementationClass = 'org.springframework.boot.gradle.plugin.SpringBootPlugin'
		}
	}
}
